<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ULTIMATE STAGE</title>
<style>
  body{
    margin:0;
    height:100vh;
    background:#000;
    overflow:hidden;
    font-family:sans-serif;
    color:white;
    display:flex;
    flex-direction:column;
    align-items:center;
  }
  h1{
    margin:16px;
    font-size:34px;
    text-shadow:0 0 14px white;
    z-index:10;
  }
  #buttons{
    display:flex;
    flex-wrap:wrap;
    gap:12px;
    z-index:10;
  }
  button{
    padding:14px 22px;
    border:none;
    border-radius:10px;
    background:#222;
    color:white;
    cursor:pointer;
    transition:.2s;
  }
  button:hover{
    transform:scale(1.1);
    box-shadow:0 0 18px white;
  }
  canvas{
    position:fixed;
	 z-index:0
    inset:0;
    pointer-events:none;
  }
</style>
</head>
<body>

<h1>ğŸ¤ STAGE LIGHTS ğŸ¤</h1>
<div id="buttons">
  <button onclick="toggleSpotlights()">ğŸ’¡ Spotlights</button>
  <button onclick="togglePulse()">ğŸ’¥ Pulse</button>
  <button onclick="toggleZoom()">ğŸ” Zoom</button>
  <button onclick="toggleHype()">ğŸš€ HYPE</button>
  <button onclick="ultimate()">ğŸ’€ ULTIMATE</button>
</div>

<canvas id="c"></canvas>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = innerWidth * 1.25;
  canvas.height = innerHeight * 1.25;
}
resize();
addEventListener("resize", resize);

const stageY = innerHeight - 90;

// ---- STATES ----
let spotlights=false, pulse=false, zoom=false, hype=false;

// ---- ZOOM ----
let zoomScale=1, zoomDir=1;

// ---- PULSE ----
const pulseColors=[
  "rgba(0,0,255,0.1)",
  "rgba(255,0,0,0.1)",
  "rgba(0,255,0,0.1)"
];
let pulseIndex=0, pulseTimer=0;

// ---- BEAMS ----
let beams=[];
function baseBeams(){
  beams=[
    beam(0.25),
    beam(0.35),
    beam(0.65),
    beam(0.75)
  ];
}
function beam(px){
  return{
    x:canvas.width*px,
    y:stageY,
    angle:Math.random()*Math.PI,
    speed:0.02+Math.random()*0.03,
    radius:1300,
    width:120,
    color:`hsla(${Math.random()*360},100%,85%,0.75)`
  };
}

// ---- FOG ----
let fog=[];
function spawnFog(){
  return{
    x: Math.random()>0.5 ? 0 : canvas.width,
    y: stageY + Math.random()*40,
    r: 160 + Math.random()*260,
    a: 0.02 + Math.random()*0.03,
    vy: -0.3 - Math.random()*0.6,
    vx: (Math.random()-0.5)*0.4
  };
}
for(let i=0;i<60;i++) fog.push(spawnFog());

// ---- TOGGLES ----
function toggleSpotlights(){
  spotlights=!spotlights;
  if(spotlights && beams.length===0) baseBeams();
}
function togglePulse(){ pulse=!pulse; }
function toggleZoom(){ zoom=!zoom; }
function toggleHype(){
  hype=!hype;
  if(hype){
    for(let i=0;i<8;i++){
      beams.push({
        x:canvas.width/2+(Math.random()-0.5)*600,
        y:stageY,
        angle:Math.random()*Math.PI*2,
        speed:0.03+Math.random()*0.05,
        radius:1500,
        width:120,
        color:`hsla(${Math.random()*360},100%,85%,0.75)`
      });
    }
  }else{
    baseBeams();
  }
}

// ğŸ’€ ---- ULTIMATE MODE ---- ğŸ’€
function ultimate(){
  spotlights=true;
  hype=true;
  zoom=true;
  pulse=true;

  beams.length=0;

  // 10,000 BEAMS â˜¢ï¸
  for(let i=0;i<10000;i++){
    beams.push({
      x:Math.random()*canvas.width,
      y:stageY,
      angle:Math.random()*Math.PI*2,
      speed:0.1+Math.random()*0.1,
      radius:1600+Math.random()*900,
      width:120,
      color:`hsla(${Math.random()*360},100%,85%,0.5)`
    });
  }

  // FOG OVERDRIVE ğŸŒ«ï¸
  for(let i=0;i<100;i++){
    fog.push(spawnFog());
  }
}

// ---- LOOP ----
function loop(t){
  ctx.setTransform(1,0,0,1,0,0);
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Zoom
  if(zoom){
    zoomScale+=zoomDir*0.007;
    if(zoomScale>1.08||zoomScale<0.95) zoomDir*=-1;
    ctx.translate(canvas.width/2,canvas.height/2);
    ctx.scale(zoomScale,zoomScale);
    ctx.translate(-canvas.width/2,-canvas.height/2);
  }

  // Stage
  ctx.fillStyle=hype?"#555":"#222";
  ctx.fillRect(0,stageY,canvas.width,canvas.height-stageY);

  // Beams
  if(spotlights){
    beams.forEach(b=>{
      const bx=b.x+Math.cos(b.angle)*b.radius;
      const by=b.y-Math.sin(b.angle)*b.radius;
      ctx.beginPath();
      ctx.moveTo(b.x,b.y);
      ctx.lineTo(bx-b.width/2,by);
      ctx.lineTo(bx+b.width/2,by);
      ctx.closePath();
      ctx.fillStyle=b.color;
      ctx.fill();
      b.angle+=b.speed;
    });
  }

  // Pulse
  if(pulse){
    if(t-pulseTimer>900){
      pulseIndex=(pulseIndex+1)%pulseColors.length;
      pulseTimer=t;
    }
    ctx.fillStyle=pulseColors[pulseIndex];
    ctx.fillRect(10,10,canvas.width,canvas.height);
  }

  // Fog
  if(hype){
    fog.forEach((f,i)=>{
      ctx.beginPath();
      ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
      ctx.fillStyle=`rgba(255,255,255,${f.a})`;
      ctx.fill();
      f.x+=f.vx;
      f.y+=f.vy;
      if(f.y<stageY-600) fog[i]=spawnFog();
    });
  }

  requestAnimationFrame(loop);
}
loop(0);
</script>
</body>
</html>